<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VFIED ‚Äî Decide For Me</title>
  <style>
    /* Minimal styles so you see it working immediately */
    body{font-family:system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin:0; background:#0f172a; color:#e2e8f0}
    .container{max-width:900px; margin:32px auto; padding:0 16px}
    .card{background:#111827; border:1px solid #1f2937; border-radius:14px; padding:18px; margin-bottom:16px}
    h1{font-size:28px; margin:0 0 8px}
    .row{display:flex; gap:12px; flex-wrap:wrap; align-items:center}
    label{font-size:14px; opacity:.9}
    input, select, textarea{background:#0b1220; color:#e2e8f0; border:1px solid #263247; border-radius:10px; padding:10px 12px; outline:none}
    input[type="checkbox"]{transform:scale(1.1)}
    button{background:#6d28d9; border:none; color:white; padding:12px 16px; border-radius:12px; font-weight:700; cursor:pointer}
    button.secondary{background:#334155}
    button:disabled{opacity:.6; cursor:not-allowed}
    .chips{display:flex; gap:10px; flex-wrap:wrap}
    .chip{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; background:#0b1220; border:1px solid #263247; cursor:pointer; user-select:none}
    .chip input{margin:0}
    .muted{opacity:.8; font-size:13px}
    .big{font-size:18px}
    .emoji{font-size:36px}
    .grid{display:grid; gap:12px}
    .grid-2{grid-template-columns:1fr; }
    @media(min-width:840px){ .grid-2{grid-template-columns:1fr 1fr;} }
    .result{line-height:1.5}
    .kpi{display:flex; gap:16px; font-size:13px; opacity:.9}
    .kpi span{background:#0b1220; padding:6px 10px; border-radius:999px; border:1px solid #263247}
    .rowsm{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px}
    .small{font-size:12px}
    
    /* Tab styles */
    .tab-btn.active { outline: 2px solid #6d28d9; }
    .tab-panel .event-card,
    .tab-panel .travel-card {
      display:flex; gap:12px; background:#0b1220; border:1px solid #263247;
      padding:12px; border-radius:12px; align-items:flex-start;
    }
    .event-badge, .travel-badge { font-size:24px; }
    .event-title, .travel-title { font-weight:700; }
    .event-meta { font-size:12px; opacity:.8; }
    .timeline { border-left:2px solid #263247; margin-left:6px; padding-left:10px; }
    .timeline .step { margin:8px 0; }
    .timeline .time { font-weight:700; margin-right:6px; }
  </style>
  <script type="module" crossorigin src="/assets/index-Dby_a9Uv.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-CZBCS89V.css">
  <script type="module">import.meta.url;import("_").catch(()=>1);(async function*(){})().next();window.__vite_is_modern_browser=true</script>
  <script type="module">!function(){if(window.__vite_is_modern_browser)return;console.warn("vite: loading legacy chunks, syntax error above and the same error below should be ignored");var e=document.getElementById("vite-legacy-polyfill"),n=document.createElement("script");n.src=e.src,n.onload=function(){System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))},document.body.appendChild(n)}();</script>
</head>
<body>
  <div class="container">
    <h1>üçΩÔ∏è VFIED ‚Äî One-Tap Food Decision</h1>
    <div class="muted">Hooked to your local server at <code class="mono">http://localhost:3001</code></div>
    
    <!-- TABS -->
    <div class="row" style="gap:8px; margin:14px 0">
      <button class="secondary tab-btn active" data-tab="food">üçΩÔ∏è Food</button>
      <button class="secondary tab-btn" data-tab="events">üéâ Events</button>
      <button class="secondary tab-btn" data-tab="travel">üß≠ Travel</button>
    </div>

    <div id="tab-food" class="tab-panel" style="display:block">
      <!-- Decision Card -->
      <div class="card">
        <div class="grid grid-2">
          <div>
            <label for="moodInput">How are you feeling?</label>
            <input id="moodInput" placeholder="e.g. stressed but want something light" style="width:100%; margin-top:6px" />
            <div class="rowsm" id="quickMoods" style="margin-top:8px">
              <button class="secondary mood-chip" data-quick="tired">üò¥ Tired</button>
              <button class="secondary mood-chip" data-quick="stressed">üò∞ Stressed</button>
              <button class="secondary mood-chip" data-quick="celebrating">üéâ Celebrating</button>
              <button class="secondary mood-chip" data-quick="hungry">ü§§ Hungry</button>
            </div>
          </div>
          <div>
            <label>Location</label>
            <div class="row" style="margin-top:6px">
              <select id="citySelect">
                <option value='{"city":"London","country":"United Kingdom","country_code":"GB"}'>London, GB</option>
                <option value='{"city":"Nairobi","country":"Kenya","country_code":"KE"}'>Nairobi, KE</option>
                <option value='{"city":"New York","country":"United States","country_code":"US"}'>New York, US</option>
                <option value='{"city":"Tokyo","country":"Japan","country_code":"JP"}'>Tokyo, JP</option>
              </select>
              <input id="cityInputFree" placeholder="Type your city (optional)" style="width:180px" />
              <input id="latInput" placeholder="lat (optional)" style="width:130px" />
              <input id="lngInput" placeholder="lng (optional)" style="width:130px" />
            </div>

            <div style="margin-top:12px">
              <label>Dietary</label>
              <div class="chips" id="dietaryChips" style="margin-top:6px">
                <!-- chips rendered by JS -->
              </div>
            </div>
          </div>
        </div>

        <div class="row" style="margin-top:12px">
          <select id="budgetSelect">
            <option value="medium">Budget: Medium</option>
            <option value="low">Budget: Low</option>
            <option value="high">Budget: High</option>
          </select>
          <button id="decideBtn" class="big">üéØ Decide For Me</button>
        </div>
      </div>

      <!-- PWA Install Banner -->
      <div id="installBanner" class="card" style="display:none; margin-top:8px">
        <div class="row" style="justify-content:space-between; align-items:center">
          <div>üì≤ Install VFIED for 1-tap access</div>
          <div class="row">
            <button id="installBtn" class="secondary">Install</button>
            <button id="installClose" class="secondary">‚úï</button>
          </div>
        </div>
      </div>

      <!-- Result Card -->
      <div class="card" id="resultCard" style="display:none">
        <div class="row" style="align-items:flex-start">
          <div class="emoji" id="foodEmoji">üçΩÔ∏è</div>
          <div class="result">
            <div class="big" id="foodName">Your suggestion appears here</div>
            <div class="muted" id="foodType"></div>
            <div style="margin-top:8px" id="friendMessage"></div>
            <div class="muted" style="margin-top:8px" id="reasoning"></div>
            <div class="muted" style="margin-top:8px" id="culturalNote"></div>
            <div class="muted" style="margin-top:8px" id="dietaryNote"></div>
            <div class="muted" style="margin-top:8px" id="weatherNote"></div>

            <div class="kpi" style="margin-top:10px">
              <span id="countryCode">‚Äî</span>
              <span id="confidence">‚Äî</span>
              <span id="weatherBadge">‚Äî</span>
              <span id="engineBadge">‚Äî</span>
            </div>
          </div>
        </div>

        <div class="row" style="margin-top:12px">
          <button id="acceptBtn">‚úÖ Accept</button>
          <button id="tryAgainBtn" class="secondary">üîÑ Try Again</button>
          <button id="shareRecBtn" class="secondary">üîó Share</button>
        </div>
      </div>

      <!-- Vendor Upload (Demo) -->
      <div class="card">
        <div class="row" style="justify-content:space-between">
          <h2 style="margin:0">üì§ Vendor Menu Upload (demo)</h2>
          <span class="small mono">Bearer demo_growth_key_456</span>
        </div>
        <div class="grid grid-2" style="margin-top:8px">
          <div>
            <label>Menu JSON</label>
            <textarea id="menuTextarea" rows="7" style="width:100%; margin-top:6px">[
  {"name":"Ugali Mayai","country_code":"KE","price":"8.99","tags":["vegetarian","comfort","protein"],"kcal":420,"protein_g":22,"carbs_g":60,"fat_g":10},
  {"name":"Fried Tilapia","country_code":"KE","price":"12.50","tags":["pescatarian","protein","healthy"],"kcal":500,"protein_g":40,"carbs_g":5,"fat_g":25}
]</textarea>
            <div class="row" style="margin-top:8px">
              <button id="uploadMenuBtn">Upload Menu</button>
              <button id="viewMenuBtn" class="secondary">View My Menu</button>
            </div>
          </div>
          <div>
            <label>Response</label>
            <pre id="menuResponse" class="mono" style="margin-top:6px; white-space:pre-wrap; background:#0b1220; padding:10px; border-radius:10px; border:1px solid #263247; height:170px; overflow:auto">‚Äî</pre>
          </div>
        </div>
        <div id="adminSummary" class="small mono" style="margin-top:6px; opacity:.85">‚Äî</div>
      </div>
    </div>

    <div id="tab-events" class="tab-panel" style="display:none">
      <div class="card">
        <div class="row" style="justify-content:space-between; align-items:center">
          <h2 style="margin:0">üéâ Events Near You</h2>
          <button id="loadEventsBtn">Load Events</button>
        </div>
        <div id="eventsGrid" class="grid" style="margin-top:10px"></div>
      </div>
    </div>

    <div id="tab-travel" class="tab-panel" style="display:none">
      <div class="card">
        <div class="row" style="justify-content:space-between; align-items:center">
          <h2 style="margin:0">üß≠ Travel Highlights</h2>
          <button id="loadTravelBtn">Show Highlights</button>
        </div>
        <div id="travelGrid" class="grid" style="margin-top:10px"></div>
      </div>

      <div class="card" style="margin-top:12px">
        <h2 style="margin:0 0 8px">üó∫Ô∏è Plan a Local Night</h2>
        <input id="planPrompt" placeholder="I want to try local experiences in the city..." style="width:100%; margin-bottom:8px" />
        <button id="genPlanBtn">Generate Night Plan</button>
        <button id="genNightPlanBtn" class="secondary" style="margin-top:8px">Generate Night Plan (demo)</button>
        <button id="copyPlanBtn" class="secondary" style="margin-top:8px">Copy plan to clipboard</button>
        <div id="planBox" style="margin-top:10px"></div>
      </div>
    </div>
  </div>
  
  <script nomodule>!function(){var e=document,t=e.createElement("script");if(!("noModule"in t)&&"onbeforeload"in t){var n=!1;e.addEventListener("beforeload",(function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute("nomodule")||!n)return;e.preventDefault()}),!0),t.type="module",t.src=".",e.head.appendChild(t),t.remove()}}();</script>
  <script nomodule crossorigin id="vite-legacy-polyfill" src="/assets/polyfills-legacy-DRJ9LuuF.js"></script>
  <script nomodule crossorigin id="vite-legacy-entry" data-src="/assets/index-legacy-D4SkA3HI.js">System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))</script>
</body>
</html>